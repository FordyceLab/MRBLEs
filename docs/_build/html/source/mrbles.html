
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>mrbles package &#8212; mrbles 0.13.0 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">mrbles 0.13.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mrbles-package">
<h1>mrbles package<a class="headerlink" href="#mrbles-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mrbles.core">
<span id="mrbles-core-module"></span><h2>mrbles.core module<a class="headerlink" href="#module-mrbles.core" title="Permalink to this headline">¶</a></h2>
<div class="section" id="core-classes-and-functions">
<h3>Core Classes and Functions<a class="headerlink" href="#core-classes-and-functions" title="Permalink to this headline">¶</a></h3>
<p>This file stores the core classes and functions for the MRBLEs Analysis module.</p>
<dl class="class">
<dt id="mrbles.core.Classify">
<em class="property">class </em><code class="descclassname">mrbles.core.</code><code class="descname">Classify</code><span class="sig-paren">(</span><em>target</em>, <em>sigma=1e-05</em>, <em>train=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#Classify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.Classify" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Classification of beads by Gaussian Mixture Model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target</strong> (<em>list, NumPy array</em>) – List of target ratios.</li>
<li><strong>tol</strong> (<em>float</em>) – Tolerance.
Defaults to 1e-5.</li>
<li><strong>min_covar</strong> (<em>float</em>) – Minimum covariance.
Defaults to 1e-7.</li>
<li><strong>sigma</strong> (<em>float</em>) – …
Defaults to 1e-5.</li>
<li><strong>train</strong> (<em>boolean</em>) – Sets training mode. Remembers covariance matrix or resets to initial
covariance matrix.
Defaults to False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mrbles.core.Classify.code_metrics">
<code class="descname">code_metrics</code><span class="sig-paren">(</span><em>nsigma=3</em>, <em>resolution=100</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#Classify.code_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.Classify.code_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Return code metrics.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.core.Classify.decode">
<code class="descname">decode</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#Classify.decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.Classify.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode mrbles.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.core.Classify.ellipsoids">
<code class="descname">ellipsoids</code><span class="sig-paren">(</span><em>nsigma</em>, <em>resolution=100</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#Classify.ellipsoids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.Classify.ellipsoids" title="Permalink to this definition">¶</a></dt>
<dd><p>Create CI ellipsoids.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.Classify.found">
<code class="descname">found</code><a class="headerlink" href="#mrbles.core.Classify.found" title="Permalink to this definition">¶</a></dt>
<dd><p>Return found codes.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.Classify.init_covars">
<code class="descname">init_covars</code><a class="headerlink" href="#mrbles.core.Classify.init_covars" title="Permalink to this definition">¶</a></dt>
<dd><p>Return initial covariance matrix.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.Classify.init_weights">
<code class="descname">init_weights</code><a class="headerlink" href="#mrbles.core.Classify.init_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Return initial weights.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.Classify.log_prob">
<code class="descname">log_prob</code><a class="headerlink" href="#mrbles.core.Classify.log_prob" title="Permalink to this definition">¶</a></dt>
<dd><p>Return log probabilities.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.Classify.means">
<code class="descname">means</code><a class="headerlink" href="#mrbles.core.Classify.means" title="Permalink to this definition">¶</a></dt>
<dd><p>Return means.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.Classify.missing">
<code class="descname">missing</code><a class="headerlink" href="#mrbles.core.Classify.missing" title="Permalink to this definition">¶</a></dt>
<dd><p>Return missing codes.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.Classify.output">
<code class="descname">output</code><a class="headerlink" href="#mrbles.core.Classify.output" title="Permalink to this definition">¶</a></dt>
<dd><p>Return codes, probability and log probability.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.Classify.probs">
<code class="descname">probs</code><a class="headerlink" href="#mrbles.core.Classify.probs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return probabilities.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.Classify.stds">
<code class="descname">stds</code><a class="headerlink" href="#mrbles.core.Classify.stds" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Choleski based SD.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.core.Classify.unit_sphere">
<em class="property">static </em><code class="descname">unit_sphere</code><span class="sig-paren">(</span><em>resolution=100</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#Classify.unit_sphere"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.Classify.unit_sphere" title="Permalink to this definition">¶</a></dt>
<dd><p>Return unit sphere.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.core.FindBeadsCircle">
<em class="property">class </em><code class="descclassname">mrbles.core.</code><code class="descname">FindBeadsCircle</code><span class="sig-paren">(</span><em>min_r</em>, <em>max_r</em>, <em>param_1=10</em>, <em>param_2=10</em>, <em>annulus_width=2</em>, <em>min_dist=None</em>, <em>enlarge=1</em>, <em>auto_filt=True</em>, <em>border_clear=False</em>, <em>parallelize=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsCircle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsCircle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mrbles.core.html#mrbles.core.FindBeadsImaging" title="mrbles.core.FindBeadsImaging"><code class="xref py py-class docutils literal notranslate"><span class="pre">mrbles.core.FindBeadsImaging</span></code></a></p>
<p>Find and identify bead objects from image.</p>
<p>Parameters changes for each setup/magnification/bead-set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>min_r</strong> (<em>int</em>) – Sets the minimum diameter of the bead in pixels.</li>
<li><strong>max_r</strong> (<em>int</em>) – Sets the maximum diameter of the bead in pixels.</li>
<li><strong>param_1</strong> (<em>int</em>) – Sets the gradient steepness. CHECK</li>
<li><strong>param_2</strong> (<em>int</em>) – Sets the sparsity. CHECK</li>
<li><strong>annulus_width</strong> (<em>int, optional</em>) – Sets the width of the annulus in pixels.
Defaults to 2 pixels.</li>
<li><strong>min_dist</strong> (<em>int, optional</em>) – Sets the minimal distance between the centers of the beads in pixels.
Defaults to 2x of the minimum diameter (min_r).</li>
<li><strong>enlarge</strong> (<em>float, optional</em>) – Enlarges the found diameter by this factor.
1 remains equal, 1.1 enlarges by 10% and 0.9 shrinks by 10%.
Defaults to 1, no enlarging/shrinking.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="staticmethod">
<dt id="mrbles.core.FindBeadsCircle.circle_mask">
<em class="property">static </em><code class="descname">circle_mask</code><span class="sig-paren">(</span><em>image</em>, <em>min_dist</em>, <em>min_r</em>, <em>max_r</em>, <em>param_1</em>, <em>param_2</em>, <em>enlarge</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsCircle.circle_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsCircle.circle_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Find initial circles using Hough transform and return mask.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.core.FindBeadsCircle.circle_separate">
<em class="property">static </em><code class="descname">circle_separate</code><span class="sig-paren">(</span><em>mask</em>, <em>circles</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsCircle.circle_separate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsCircle.circle_separate" title="Permalink to this definition">¶</a></dt>
<dd><p>Find and separate circles using watershed on initial mask.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.FindBeadsCircle.circles_dim">
<code class="descname">circles_dim</code><a class="headerlink" href="#mrbles.core.FindBeadsCircle.circles_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Return circle dimensions.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.core.FindBeadsCircle.convert">
<em class="property">static </em><code class="descname">convert</code><span class="sig-paren">(</span><em>image</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsCircle.convert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsCircle.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>8 Bit Convert.</p>
<p>Checks image data type and converts if necessary to uint8 array.
image : M x N image array</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.core.FindBeadsCircle.create_annulus_mask">
<code class="descname">create_annulus_mask</code><span class="sig-paren">(</span><em>labeled_mask</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsCircle.create_annulus_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsCircle.create_annulus_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Create annulus mask from regular mask.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.core.FindBeadsCircle.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>image</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsCircle.find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsCircle.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute finding beads image(s).</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.FindBeadsCircle.labeled_annulus_mask">
<code class="descname">labeled_annulus_mask</code><a class="headerlink" href="#mrbles.core.FindBeadsCircle.labeled_annulus_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Return labeled annulus mask.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.FindBeadsCircle.labeled_mask">
<code class="descname">labeled_mask</code><a class="headerlink" href="#mrbles.core.FindBeadsCircle.labeled_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Return labeled mask.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.core.FindBeadsCircle.overlay_image">
<code class="descname">overlay_image</code><span class="sig-paren">(</span><em>image</em>, <em>annulus=None</em>, <em>dim=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsCircle.overlay_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsCircle.overlay_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlay image with circles of labeled mask.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.core.FindBeadsImaging">
<em class="property">class </em><code class="descclassname">mrbles.core.</code><code class="descname">FindBeadsImaging</code><span class="sig-paren">(</span><em>bead_size</em>, <em>border_clear=True</em>, <em>circle_size=None</em>, <em>parallelize=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mrbles.data.html#mrbles.data.ImageDataFrame" title="mrbles.data.ImageDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">mrbles.data.ImageDataFrame</span></code></a></p>
<p>Find and identify beads and their regions using imaging.</p>
<p>Parallel computing version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bead_size</strong> (<em>int</em>) – Approximate width of beads (circles) in pixels.</li>
<li><strong>border_clear</strong> (<em>boolean</em>) – Beads touching border or ROI will be removed.
Defaults to True.</li>
<li><strong>circle_size</strong> (<em>int</em>) – Set circle size for auto find circular ROI.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="mrbles.core.html#mrbles.core.FindBeadsImaging.area_min" title="mrbles.core.FindBeadsImaging.area_min"><strong>area_min</strong></a> (<em>float</em>) – Sets the minimum area in pixels. Set to minimum size inside of ring.
Defaults to 0.1 * area of set bead_size.</li>
<li><a class="reference internal" href="mrbles.core.html#mrbles.core.FindBeadsImaging.area_max" title="mrbles.core.FindBeadsImaging.area_max"><strong>area_max</strong></a> (<em>float</em>) – Sets the maximum area in pixels. Set maximum size outside of ring.
Defaults to 1.5 * area of set bead_size.</li>
<li><a class="reference internal" href="mrbles.core.html#mrbles.core.FindBeadsImaging.eccen_max" title="mrbles.core.FindBeadsImaging.eccen_max"><strong>eccen_max</strong></a> (<em>float</em>) – Get or set maximum eccentricity of beads in value 0 to 1, where a
perfect circle is 0.
Defaults to 0.65.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="mrbles.core.FindBeadsImaging.area_max">
<code class="descname">area_max</code><a class="headerlink" href="#mrbles.core.FindBeadsImaging.area_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Get or set minimum area of beads (circles) in pixels.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.FindBeadsImaging.area_min">
<code class="descname">area_min</code><a class="headerlink" href="#mrbles.core.FindBeadsImaging.area_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Get or set minimum area of beads (circles) in pixels.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.FindBeadsImaging.bead_dims">
<code class="descname">bead_dims</code><a class="headerlink" href="#mrbles.core.FindBeadsImaging.bead_dims" title="Permalink to this definition">¶</a></dt>
<dd><p>Return found bead dimensions.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.FindBeadsImaging.bead_labels">
<code class="descname">bead_labels</code><a class="headerlink" href="#mrbles.core.FindBeadsImaging.bead_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all positive labels of labeled mask.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.FindBeadsImaging.bead_num">
<code class="descname">bead_num</code><a class="headerlink" href="#mrbles.core.FindBeadsImaging.bead_num" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of beads labeled mask.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.FindBeadsImaging.bead_size">
<code class="descname">bead_size</code><a class="headerlink" href="#mrbles.core.FindBeadsImaging.bead_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Get or set approximate width of beads (circles) in pixels.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.core.FindBeadsImaging.circle_area">
<em class="property">static </em><code class="descname">circle_area</code><span class="sig-paren">(</span><em>diameter</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.circle_area"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.circle_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Return area of circle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>diameter</strong> (<em>float</em>) – Diameter of circle.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="mrbles.core.FindBeadsImaging.circle_roi">
<em class="property">classmethod </em><code class="descname">circle_roi</code><span class="sig-paren">(</span><em>image</em>, <em>circle_size</em>, <em>hough_settings=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.circle_roi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.circle_roi" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a circular image ROI.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>image</strong> (<em>NumPy array image</em>)</li>
<li><strong>hough_settings</strong> (<em>list, int</em>) – Settings for HoughCircles in list.
list[0] = dp, list[1] = param1, list[2] = param2</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.core.FindBeadsImaging.cross_overlay">
<em class="property">static </em><code class="descname">cross_overlay</code><span class="sig-paren">(</span><em>image</em>, <em>dims</em>, <em>color=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.cross_overlay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.cross_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Create image with overlay crosses.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.FindBeadsImaging.eccen_max">
<code class="descname">eccen_max</code><a class="headerlink" href="#mrbles.core.FindBeadsImaging.eccen_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Get or set maximum eccentricity of beads from 0 to 1.</p>
<p>A perfect circle is 0 and parabola is 1.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.core.FindBeadsImaging.eccentricity">
<em class="property">static </em><code class="descname">eccentricity</code><span class="sig-paren">(</span><em>axis_a</em>, <em>axis_b</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.eccentricity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.eccentricity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return eccentricity by major axes.</p>
<p>Parameters:
axis_a : float</p>
<blockquote>
<div>Size major axis a.</div></blockquote>
<dl class="docutils">
<dt>axis_b <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Size major axis b.</dd>
</dl>
</dd></dl>

<dl class="classmethod">
<dt id="mrbles.core.FindBeadsImaging.filter_mask">
<em class="property">classmethod </em><code class="descname">filter_mask</code><span class="sig-paren">(</span><em>mask</em>, <em>filter_params</em>, <em>filter_names</em>, <em>slice_types</em>, <em>border_clear=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.filter_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.filter_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter labeled mask based on provided parameters.</p>
</dd></dl>

<dl class="classmethod">
<dt id="mrbles.core.FindBeadsImaging.filter_properties">
<em class="property">classmethod </em><code class="descname">filter_properties</code><span class="sig-paren">(</span><em>properties</em>, <em>filter_params</em>, <em>filter_names</em>, <em>slice_types</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.filter_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.filter_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Get labels of areas outside of limits.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.core.FindBeadsImaging.filter_property">
<em class="property">static </em><code class="descname">filter_property</code><span class="sig-paren">(</span><em>properties</em>, <em>filter_param</em>, <em>filter_name</em>, <em>slice_type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.filter_property"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.filter_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Get labels of beads outside/inside/up/down of propert limits.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>properties</strong> (<em>photutils table</em>) – Table with feature properties from labeled mask.
&gt;&gt;&gt; from photutils import source_properties, properties_table
&gt;&gt;&gt; tbl = properties_table(properties)
&gt;&gt;&gt; properties = source_properties(mask, mask)</li>
<li><strong>filter_param</strong> (<em>float, int, list</em>) – Parameters to filter by.
If provided a list it will filter by range, inside or outside).
If provided a value it filter up or down that value.</li>
<li><strong>slice_type</strong> (<em>string</em>) – ‘outside’ : &lt; &gt;
‘inside’  : &gt;= &lt;=
‘up’      : &gt;
‘down’    : &lt;</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mrbles.core.FindBeadsImaging.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>image</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute finding beads image(s).</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.core.FindBeadsImaging.get_dimensions">
<em class="property">static </em><code class="descname">get_dimensions</code><span class="sig-paren">(</span><em>mask</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.get_dimensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.get_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Get dimensions of labeled regions in labeled mask.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.core.FindBeadsImaging.get_unique_count">
<em class="property">static </em><code class="descname">get_unique_count</code><span class="sig-paren">(</span><em>mask</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.get_unique_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.get_unique_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Get count of unique positive values from labeled mask.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.core.FindBeadsImaging.get_unique_values">
<em class="property">static </em><code class="descname">get_unique_values</code><span class="sig-paren">(</span><em>mask</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.get_unique_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.get_unique_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all unique positive values from labeled mask.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.core.FindBeadsImaging.img2bin">
<code class="descname">img2bin</code><span class="sig-paren">(</span><em>image</em>, <em>thr_block=15</em>, <em>thr_c=11</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.img2bin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.img2bin" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert and adaptive threshold image.</p>
</dd></dl>

<dl class="classmethod">
<dt id="mrbles.core.FindBeadsImaging.make_mask_outside">
<em class="property">classmethod </em><code class="descname">make_mask_outside</code><span class="sig-paren">(</span><em>mask</em>, <em>size</em>, <em>buffer=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.make_mask_outside"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.make_mask_outside" title="Permalink to this definition">¶</a></dt>
<dd><p>Return labeled mask of area around bead.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.core.FindBeadsImaging.mask">
<code class="descname">mask</code><span class="sig-paren">(</span><em>mask_type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Return labeled mask of the specified mask type.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.core.FindBeadsImaging.mask_types">
<code class="descname">mask_types</code><a class="headerlink" href="#mrbles.core.FindBeadsImaging.mask_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of mask types.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.core.FindBeadsImaging.sector_mask">
<em class="property">static </em><code class="descname">sector_mask</code><span class="sig-paren">(</span><em>shape</em>, <em>center</em>, <em>radius</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.sector_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.sector_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a boolean mask for a circular ROI.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.core.FindBeadsImaging.show_image_overlay">
<em class="property">static </em><code class="descname">show_image_overlay</code><span class="sig-paren">(</span><em>image</em>, <em>image_blend</em>, <em>alpha=0.3</em>, <em>cmap1='Greys_r'</em>, <em>cmap2='jet'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#FindBeadsImaging.show_image_overlay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.FindBeadsImaging.show_image_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlay of 2 images using alpha blend.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>image</strong> (<em>NumPy array</em>) – Base image.</li>
<li><strong>image_blend</strong> (<em>NumPy arra</em>) – Image to blend over base image.</li>
<li><strong>aplha</strong> (<em>float</em>) – Amount of blending. Value between 0 and 1.
Defaults to 0.3.</li>
<li><strong>c_map1</strong> (<em>cmap</em>) – Color scheme using cmap. See matplotlib for color schemes.
Defaults to ‘Greys_r’, which are reversed grey values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.core.ICP">
<em class="property">class </em><code class="descclassname">mrbles.core.</code><code class="descname">ICP</code><span class="sig-paren">(</span><em>target</em>, <em>matrix_method='std'</em>, <em>offset=None</em>, <em>max_iter=100</em>, <em>tol=0.0001</em>, <em>outlier_pct=0.01</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#ICP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.ICP" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Iterative Closest Point (ICP).</p>
<p>Iterative Closest Point (ICP) algorithm to minimize the difference
between two clouds of points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>matrix_method</strong> (<em>string/function/list, optional</em>) – Transformation matrix method. Standard methods: ‘max’, ‘mean’, ‘std’.
Other options: own function or list of initial guesses.
Defaults to ‘std’.</li>
<li><strong>offset</strong> (<em>list of float, optional</em>)</li>
<li><strong>max_iter</strong> (<em>int, optional</em>) – Maximum number of iterations.
Defaults to 100.</li>
<li><strong>tol</strong> (<em>float, optional</em>) – Convergence threshold. ICP will stop after delta &lt; tol.
Defaults to 1e-4.</li>
<li><strong>outlier_pct</strong> (<em>float, optional</em>) – Discard percentile 0.x of furthest distance from target. Percentile
given in fraction [0-1], e.g. ‘0.001’.
Defaults to 0.</li>
<li><strong>train</strong> (<em>boolean</em>) – Turn on (True) or off (False) traning mode.
This will keep the current tranformation from resetting to default
initial values.
Defaults to True.</li>
<li><strong>echo</strong> (<em>boolean</em>) – Turn on (True) or off (False) printing information while in process.
Prints the delta for each iteration, the final number of iterations,
and the final transformation and offset matrices.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>matrix</strong> (<em>NumPy array</em>) – This stores the transformation matrix.</li>
<li><strong>offset</strong> (<em>NumPy vector</em>) – This stores the offset vector.</li>
<li><strong>Functions</strong> – </li>
<li><strong>---------</strong> – </li>
<li><a class="reference internal" href="mrbles.core.html#mrbles.core.ICP.fit" title="mrbles.core.ICP.fit"><strong>fit</strong></a> (<em>function</em>) – Function to find ICP using set parameters and attributes.</li>
<li><a class="reference internal" href="mrbles.core.html#mrbles.core.ICP.transform" title="mrbles.core.ICP.transform"><strong>transform</strong></a> (<em>function</em>) – Function to apply transformat data using current transformation matrix
and offset vector.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mrbles.core.ICP.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>data</em>, <em>target=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#ICP.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.ICP.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit Iterative Closest Point.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.core.ICP.matrix_create">
<em class="property">static </em><code class="descname">matrix_create</code><span class="sig-paren">(</span><em>func</em>, <em>input1</em>, <em>input2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#ICP.matrix_create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.ICP.matrix_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create identity matrix and set values with function on inputs e.g ‘np.mean’.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>function</em>) – Function to apply on input1 divided by input2, e.g. ‘np.std’.
Insert function without function call: ().</li>
<li><strong>input1</strong> (<em>list, ndarray</em>)</li>
<li><strong>input2</strong> (<em>list, ndarray</em>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>matrix</strong> – Returns func(input1/input2)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mrbles.core.ICP.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>data=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#ICP.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.ICP.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply transformation matrix to data.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.core.SpectralUnmixing">
<em class="property">class </em><code class="descclassname">mrbles.core.</code><code class="descname">SpectralUnmixing</code><span class="sig-paren">(</span><em>ref_data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#SpectralUnmixing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.SpectralUnmixing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mrbles.data.html#mrbles.data.ImageDataFrame" title="mrbles.data.ImageDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">mrbles.data.ImageDataFrame</span></code></a></p>
<p>Spectrally unmix images using reference spectra.</p>
<p>Unmix the spectral images to dye images, e.g., 620nm, 630nm, 650nm images
to Dy, Sm and Tm nanophospohorous lanthanides using reference spectra for
each dye.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ref_data</strong> (<em>list, ndarray, Pandas DataFrame, mrbles.data.References</em>) – Reference spectra for each dye channel as Numpy Array: N x M, where N
are the spectral channels and M the dye channels.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mrbles.core.SpectralUnmixing.unmix">
<code class="descname">unmix</code><span class="sig-paren">(</span><em>images</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#SpectralUnmixing.unmix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.SpectralUnmixing.unmix" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmix images based on initiated reference data.</p>
<p>Unmix the spectral images to dye images, e.g., 620nm, 630nm, 650nm
images to Dy, Sm and Tm nanophospohorous lanthanides using reference
spectra for each dye.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>image_data</strong> (<em>NumPy array, Xarry DataArray, mrbles.Images</em>) – Spectral images as NumPy array: N x M x P,
where N are the spectral channels and M x P the image pixels
(Y x X).</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="mrbles.core.accepts">
<code class="descclassname">mrbles.core.</code><code class="descname">accepts</code><span class="sig-paren">(</span><em>*types</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/core.html#accepts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.core.accepts" title="Permalink to this definition">¶</a></dt>
<dd><p>Check input parameters for data types.</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-mrbles.data">
<span id="mrbles-data-module"></span><h2>mrbles.data module<a class="headerlink" href="#module-mrbles.data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="data-classes-and-functions">
<h3>Data Classes and Functions<a class="headerlink" href="#data-classes-and-functions" title="Permalink to this headline">¶</a></h3>
<p>This file stores the data classes and functions for the MRBLEs Analysis module.</p>
<dl class="class">
<dt id="mrbles.data.ImageDataFrame">
<em class="property">class </em><code class="descclassname">mrbles.data.</code><code class="descname">ImageDataFrame</code><span class="sig-paren">(</span><em>data=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/data.html#ImageDataFrame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.data.ImageDataFrame" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Xarray based dataframe object for images.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="mrbles.data.html#module-mrbles.data" title="mrbles.data"><strong>data</strong></a> (<em>Xarray DataArray</em>) – Returns (cropped, if crop_x and/or crop_y is set) Xarray DataArray.</li>
<li><a class="reference internal" href="mrbles.data.html#mrbles.data.ImageDataFrame.xdata" title="mrbles.data.ImageDataFrame.xdata"><strong>xdata</strong></a> (<em>Xarray DataArray</em>) – Returns uncropped Xarray DataArray.</li>
<li><a class="reference internal" href="mrbles.data.html#mrbles.data.ImageDataFrame.sets" title="mrbles.data.ImageDataFrame.sets"><strong>sets</strong></a> (<em>list</em>) – Returns a list of all set names, if ‘set’ column is present.</li>
<li><a class="reference internal" href="mrbles.data.html#mrbles.data.ImageDataFrame.crop_x" title="mrbles.data.ImageDataFrame.crop_x"><strong>crop_x</strong></a> (<em>slice</em>) – Crop X slice. Set with slice().</li>
<li><a class="reference internal" href="mrbles.data.html#mrbles.data.ImageDataFrame.crop_y" title="mrbles.data.ImageDataFrame.crop_y"><strong>crop_y</strong></a> (<em>slice</em>) – Crop Y slice. Set with slice().</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mrbles.data.ImageDataFrame.combine">
<code class="descname">combine</code><span class="sig-paren">(</span><em>images</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/data.html#ImageDataFrame.combine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.data.ImageDataFrame.combine" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine iamges with dataframe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>images</strong> (<em>Xarray DataArray, dict of Xarray DataArrays</em>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageDataFrame.crop_x">
<code class="descname">crop_x</code><a class="headerlink" href="#mrbles.data.ImageDataFrame.crop_x" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop X slice. Set with slice().</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageDataFrame.crop_y">
<code class="descname">crop_y</code><a class="headerlink" href="#mrbles.data.ImageDataFrame.crop_y" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop Y slice. Set with slice().</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageDataFrame.data">
<code class="descname">data</code><a class="headerlink" href="#mrbles.data.ImageDataFrame.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return cropped Xarray dataframe.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.data.ImageDataFrame.get_dim_names">
<em class="property">static </em><code class="descname">get_dim_names</code><span class="sig-paren">(</span><em>data_set</em>, <em>set_dim='c'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/data.html#ImageDataFrame.get_dim_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.data.ImageDataFrame.get_dim_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of dimension names.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.data.ImageDataFrame.get_set_names">
<em class="property">static </em><code class="descname">get_set_names</code><span class="sig-paren">(</span><em>data_set</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/data.html#ImageDataFrame.get_set_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.data.ImageDataFrame.get_set_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of sets.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageDataFrame.sets">
<code class="descname">sets</code><a class="headerlink" href="#mrbles.data.ImageDataFrame.sets" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of sets.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.data.ImageDataFrame.shift_channel">
<code class="descname">shift_channel</code><span class="sig-paren">(</span><em>channel</em>, <em>x_shift</em>, <em>y_shift</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/data.html#ImageDataFrame.shift_channel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.data.ImageDataFrame.shift_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift images of channel by x and y pixels.</p>
<p>WARNING: This will shift the images permanently and sets inbound pixels
to 0. Reload images to reset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>channel</strong> (<em>str</em>) – Channel name to shift.</li>
<li><strong>x_shift</strong> (<em>int</em>) – Pixels to shift in X dimension.</li>
<li><strong>y_shift</strong> (<em>int</em>) – Pixels to shift in Y dimension.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageDataFrame.xdata">
<code class="descname">xdata</code><a class="headerlink" href="#mrbles.data.ImageDataFrame.xdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return uncropped Xarray dataframe.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.data.ImageSetRead">
<em class="property">class </em><code class="descclassname">mrbles.data.</code><code class="descname">ImageSetRead</code><span class="sig-paren">(</span><em>file_path</em>, <em>series=0</em>, <em>output='xr'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/data.html#ImageSetRead"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.data.ImageSetRead" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mrbles.data.html#mrbles.data.ImageDataFrame" title="mrbles.data.ImageDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">mrbles.data.ImageDataFrame</span></code></a></p>
<p>Image set data object that loads image set from file(s).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file_path</strong> (<em>string/list [string, string, …]</em>) – File path as string, e.g. ‘C:/folder/file.tif’, or as list of file
paths, e.g. [‘C:/folder/file.tif’, ‘C:/folder/file.tif’].</li>
<li><strong>series</strong> (<em>int, optional</em>) – Sets the series number if file has multiple series.
To Loads all series set to series=’all’.
Defaults to 0.</li>
<li><strong>output</strong> (<em>str, optional</em>) – Sets default output method. Options: ‘nd’ for NumPy ndarray or ‘xd’
for xarray.
Defaults to ‘ndarray’.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><p class="first"><strong>function descriptions.</strong> (<em>See</em>) – </p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>_dataframe</strong> (<em>xarray dataframe</em>) – Returned when calling the instance.</li>
<li><strong>_dataframe[idx]</strong> (<em>NumPy ndarray</em>) – Returns the index value or slice values: [start:stop:stride]. Warning:
when using column names stop values are included.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">image_data_object</span> <span class="o">=</span> <span class="n">ImageSetRead</span><span class="p">(</span><span class="s1">&#39;C:/folder/file.tif&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image_files</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;C:/folder/file.tif&#39;</span><span class="p">,</span> <span class="s1">&#39;C:/folder/file.tif&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image_data_object</span> <span class="o">=</span> <span class="n">ImageSetRead</span><span class="p">(</span><span class="n">image_files</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="s1">&#39;xd&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image_data_object</span><span class="p">[</span><span class="s1">&#39;BF&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">:</span><span class="mi">400</span><span class="p">,</span> <span class="mi">100</span><span class="p">:</span><span class="mi">400</span><span class="p">]</span>
<span class="go">    (301L, 301L)</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="mrbles.data.ImageSetRead.axes">
<code class="descname">axes</code><a class="headerlink" href="#mrbles.data.ImageSetRead.axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return data order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>data_order</strong> – Returns order as string with: P for position; F for file; T for
timepoint, C for channel; Y for Y-axis; X for X-axis.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">image_data_object</span> <span class="o">=</span> <span class="n">ImageSetRead</span><span class="p">(</span><span class="s1">&#39;C:/folder/file.tif&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image_data_object</span><span class="o">.</span><span class="n">axes</span>
<span class="go">&#39;TCYX&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="mrbles.data.ImageSetRead.c_index">
<code class="descname">c_index</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/data.html#ImageSetRead.c_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.data.ImageSetRead.c_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return channel number.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageSetRead.c_names">
<code class="descname">c_names</code><a class="headerlink" href="#mrbles.data.ImageSetRead.c_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return channel names.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageSetRead.c_size">
<code class="descname">c_size</code><a class="headerlink" href="#mrbles.data.ImageSetRead.c_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return channel count.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageSetRead.f_names">
<code class="descname">f_names</code><a class="headerlink" href="#mrbles.data.ImageSetRead.f_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return file names.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageSetRead.f_size">
<code class="descname">f_size</code><a class="headerlink" href="#mrbles.data.ImageSetRead.f_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return file count.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageSetRead.is_multi_file">
<code class="descname">is_multi_file</code><a class="headerlink" href="#mrbles.data.ImageSetRead.is_multi_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Return if from multiple files.</p>
</dd></dl>

<dl class="classmethod">
<dt id="mrbles.data.ImageSetRead.load">
<em class="property">classmethod </em><code class="descname">load</code><span class="sig-paren">(</span><em>file_path</em>, <em>series=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/data.html#ImageSetRead.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.data.ImageSetRead.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load image files into data structures.</p>
<p>Class method. Can be used without instantiating.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_path</strong> (<em>string/list [string, string, …]</em>) – File path as string, e.g. ‘C:/folder/file.tif’, or as list of file
paths, e.g. [‘C:/folder/file.tif’, ‘C:/folder/file.tif’].</li>
<li><strong>series</strong> (<em>int, optional</em>) – Sets the series number if file has multiple series (or positions).
Use series=’all’ for loading all series.
Defaults to 0.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ImageSetRead</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;C:/folder/file.tif&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image_files</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;C:/folder/file.tif&#39;</span><span class="p">,</span> <span class="s1">&#39;C:/folder/file.tif&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ImageSetRead</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">image_files</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageSetRead.p_size">
<code class="descname">p_size</code><a class="headerlink" href="#mrbles.data.ImageSetRead.p_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return position count.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageSetRead.s_size">
<code class="descname">s_size</code><a class="headerlink" href="#mrbles.data.ImageSetRead.s_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return series count.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.data.ImageSetRead.scan_path">
<em class="property">static </em><code class="descname">scan_path</code><span class="sig-paren">(</span><em>path</em>, <em>pattern='.*.tif'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/data.html#ImageSetRead.scan_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.data.ImageSetRead.scan_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan folder recursively for files matching the pattern.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<em>string</em>) – Folder path as string, e.g. r’C:/folder/file.tif’.</li>
<li><strong>pattern</strong> (<em>string</em>) – General file pattern as search string, e.g. ‘20160728_MOL_*’, using
regular expressions (regex).
Defaults to ‘.*.tif’.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="mrbles.data.ImageSetRead.scan_paths">
<em class="property">classmethod </em><code class="descname">scan_paths</code><span class="sig-paren">(</span><em>paths</em>, <em>pattern='.*.tif'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/data.html#ImageSetRead.scan_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.data.ImageSetRead.scan_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan folders recursively for files matching the pattern.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>paths</strong> (<em>list</em>) – Folder paths as list, e.g. [‘C:/folder/file.tif’, …].</li>
<li><strong>pattern</strong> (<em>string</em>) – General file pattern as search string, e.g. ‘20160728_MOL_*’, using
regular expressions (regex).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageSetRead.t_deltas">
<code class="descname">t_deltas</code><a class="headerlink" href="#mrbles.data.ImageSetRead.t_deltas" title="Permalink to this definition">¶</a></dt>
<dd><p>Return time deltas between each image acquisition.</p>
<p>Default in milliseconds (ms), check object.t_unit for time unit.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageSetRead.t_interval">
<code class="descname">t_interval</code><a class="headerlink" href="#mrbles.data.ImageSetRead.t_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Return set time interval.</p>
<p>Default in milliseconds (ms), check object.t_unit for time unit.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageSetRead.t_size">
<code class="descname">t_size</code><a class="headerlink" href="#mrbles.data.ImageSetRead.t_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return time-point count.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageSetRead.t_unit">
<code class="descname">t_unit</code><a class="headerlink" href="#mrbles.data.ImageSetRead.t_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Return time unit.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.ImageSetRead.z_size">
<code class="descname">z_size</code><a class="headerlink" href="#mrbles.data.ImageSetRead.z_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Z-slice count.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.data.TableDataFrame">
<em class="property">class </em><code class="descclassname">mrbles.data.</code><code class="descname">TableDataFrame</code><span class="sig-paren">(</span><em>data=None</em>, <em>flag_filt=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/data.html#TableDataFrame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.data.TableDataFrame" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Pandas based dataframe object for table data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="mrbles.data.html#module-mrbles.data" title="mrbles.data"><strong>data</strong></a> (<em>Pandas DataFrame</em>) – Returns (filtered, if ‘filter’ column is present) Pandas DataFrame.</li>
<li><a class="reference internal" href="mrbles.data.html#mrbles.data.TableDataFrame.pdata" title="mrbles.data.TableDataFrame.pdata"><strong>pdata</strong></a> (<em>Pandas DataFrame</em>) – Returns unfiltered Pandas DataFrame</li>
<li><a class="reference internal" href="mrbles.data.html#mrbles.data.ImageDataFrame.sets" title="mrbles.data.ImageDataFrame.sets"><strong>sets</strong></a> (<em>list</em>) – Returns a list of all set names, if ‘set’ column is present.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mrbles.data.TableDataFrame.combine">
<code class="descname">combine</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/data.html#TableDataFrame.combine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.data.TableDataFrame.combine" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine data with dataframe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>Pandas DataFrame</em>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.TableDataFrame.data">
<code class="descname">data</code><a class="headerlink" href="#mrbles.data.TableDataFrame.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Pandas dataframe object.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.data.TableDataFrame.get_set_names">
<em class="property">static </em><code class="descname">get_set_names</code><span class="sig-paren">(</span><em>data_set</em>, <em>set_dim='set'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/data.html#TableDataFrame.get_set_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.data.TableDataFrame.get_set_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of sets.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.TableDataFrame.pdata">
<code class="descname">pdata</code><a class="headerlink" href="#mrbles.data.TableDataFrame.pdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return unflagged Pandas dataframe.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.data.TableDataFrame.sets">
<code class="descname">sets</code><a class="headerlink" href="#mrbles.data.TableDataFrame.sets" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of sets.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-mrbles.kinetics">
<span id="mrbles-kinetics-module"></span><h2>mrbles.kinetics module<a class="headerlink" href="#module-mrbles.kinetics" title="Permalink to this headline">¶</a></h2>
<div class="section" id="kinetics-classes-and-functions">
<h3>Kinetics Classes and Functions<a class="headerlink" href="#kinetics-classes-and-functions" title="Permalink to this headline">¶</a></h3>
<p>This file stores the kinetics classes and functions for the MRBLEs Analysis
module.</p>
<dl class="class">
<dt id="mrbles.kinetics.GlobalFit">
<em class="property">class </em><code class="descclassname">mrbles.kinetics.</code><code class="descname">GlobalFit</code><a class="reference internal" href="../_modules/mrbles/kinetics.html#GlobalFit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.kinetics.GlobalFit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Global non-linear regression.</p>
<p>This class is based on the lmfit module pipeline.
For mor information and functionalilty, please visit:
<a class="reference external" href="https://lmfit.github.io/lmfit-py/">https://lmfit.github.io/lmfit-py/</a></p>
<dl class="method">
<dt id="mrbles.kinetics.GlobalFit.conf_int">
<code class="descname">conf_int</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/kinetics.html#GlobalFit.conf_int"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.kinetics.GlobalFit.conf_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Return confidence intervals.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.kinetics.GlobalFit.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>concentrations</em>, <em>fit_all</em>, <em>fit_all_se</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/kinetics.html#GlobalFit.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.kinetics.GlobalFit.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit data.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.kinetics.GlobalFit.fit_metrics">
<code class="descname">fit_metrics</code><a class="headerlink" href="#mrbles.kinetics.GlobalFit.fit_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Return fit metrics.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.kinetics.GlobalFit.model_bind">
<em class="property">static </em><code class="descname">model_bind</code><span class="sig-paren">(</span><em>Mt</em>, <em>Kd</em>, <em>Rmax</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/kinetics.html#GlobalFit.model_bind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.kinetics.GlobalFit.model_bind" title="Permalink to this definition">¶</a></dt>
<dd><p>Langmuir Isothem model.</p>
<p>Assuming protein [M]total in excess model: [M] ≈ [M]total = [MP]+[M].</p>
<p>Model -&gt; [MP] := ([M]total * Rmax) / (Kd + [M]total)</p>
<blockquote>
<div>[M]total * Rmax</div></blockquote>
<dl class="docutils">
<dt>[MP] := ——————-</dt>
<dd>Kd + [M]total</dd>
</dl>
<p>All concentrations must be in the same units!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>Mt</strong> (<em>float</em>) – Total protein [M] concentration: [M]total = [M]free+[MP].</li>
<li><strong>Rmax</strong> (<em>float</em>) – Maximum response level in abitrary units.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="mrbles.kinetics.GlobalFit.model_dataset">
<em class="property">classmethod </em><code class="descname">model_dataset</code><span class="sig-paren">(</span><em>params</em>, <em>i</em>, <em>Mt</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/kinetics.html#GlobalFit.model_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.kinetics.GlobalFit.model_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Model dataset function.</p>
<p>This extracts the data from the Parameters, used by lmfit.</p>
</dd></dl>

<dl class="classmethod">
<dt id="mrbles.kinetics.GlobalFit.objective">
<em class="property">classmethod </em><code class="descname">objective</code><span class="sig-paren">(</span><em>params</em>, <em>Mt</em>, <em>data</em>, <em>sigma=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/kinetics.html#GlobalFit.objective"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.kinetics.GlobalFit.objective" title="Permalink to this definition">¶</a></dt>
<dd><p>Objective function of the Langmuir Isotherm model.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.kinetics.GlobalFit.result">
<code class="descname">result</code><a class="headerlink" href="#mrbles.kinetics.GlobalFit.result" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lmfit ModelResult object.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.kinetics.KModelSim">
<em class="property">class </em><code class="descclassname">mrbles.kinetics.</code><code class="descname">KModelSim</code><span class="sig-paren">(</span><em>c_substrate</em>, <em>c_complex</em>, <em>kd_init</em>, <em>tol=0.0001</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/kinetics.html#KModelSim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.kinetics.KModelSim" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Kurt’s white paper for competive binding.</p>
<p>Assuming substrate (peptide on bead) or complex (protein) concentration in
excess.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>c_substrate</strong> (<em>array</em>) – NumPy array of substrate (peptide) concentrations.</li>
<li><strong>c_complex</strong> (<em>array</em>) – NumPy array of complex (protein) concentrations.</li>
<li><strong>kd_init</strong> (<em>int</em>) – Set range max for Kd’s starting from 0.</li>
<li><strong>tol</strong> (<em>float</em>) – Set tolerance error.
Defaults to 1E-4.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="mrbles.kinetics.html#mrbles.kinetics.GlobalFit.result" title="mrbles.kinetics.GlobalFit.result"><strong>result</strong></a> (<em>array</em>) – Returns NumPy array of fit.</li>
<li><strong>Functions</strong> – </li>
<li><strong>---------</strong> – </li>
<li><a class="reference internal" href="mrbles.core.html#mrbles.core.ICP.fit" title="mrbles.core.ICP.fit"><strong>fit</strong></a> (<em>function</em>) – Function to fit parameters.</li>
<li><strong>Examples</strong> – <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Mmat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  <span class="c1"># Matrix of protein concentrations,</span>
<span class="go">    e.g. 20x between 0 to 3 uM.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Pt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(([</span><span class="mi">10</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span><span class="p">))</span>      <span class="c1"># Concentrations of each peptide,</span>
<span class="go">    e.g. 10x 10 uM.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_kshow</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">kin</span><span class="o">.</span><span class="n">kshow</span><span class="p">(</span><span class="n">Pt</span><span class="p">,</span> <span class="n">Mmat</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">1E-4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_kshow</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">test_kshow</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
<span class="gp">...</span>
</pre></div>
</div>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="staticmethod">
<dt id="mrbles.kinetics.KModelSim.comp_excess">
<em class="property">static </em><code class="descname">comp_excess</code><span class="sig-paren">(</span><em>Mmat</em>, <em>Pt</em>, <em>Kd</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/kinetics.html#KModelSim.comp_excess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.kinetics.KModelSim.comp_excess" title="Permalink to this definition">¶</a></dt>
<dd><p>Complex (e.g. added protein concentration) in excess.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.kinetics.KModelSim.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/kinetics.html#KModelSim.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.kinetics.KModelSim.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit solution and save to results.</p>
<p>Access result with object.result.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.kinetics.KModelSim.kd_init">
<em class="property">static </em><code class="descname">kd_init</code><span class="sig-paren">(</span><em>kd_init</em>, <em>n_substrate</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/kinetics.html#KModelSim.kd_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.kinetics.KModelSim.kd_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize Kd values.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.kinetics.KModelSim.result">
<code class="descname">result</code><a class="headerlink" href="#mrbles.kinetics.KModelSim.result" title="Permalink to this definition">¶</a></dt>
<dd><p>Return result from fit.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.kinetics.KModelSim.sub_excess">
<em class="property">static </em><code class="descname">sub_excess</code><span class="sig-paren">(</span><em>Mmat</em>, <em>Pt</em>, <em>Kd</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/kinetics.html#KModelSim.sub_excess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.kinetics.KModelSim.sub_excess" title="Permalink to this definition">¶</a></dt>
<dd><p>Substrate (e.g. peptides on bead) in excess.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-mrbles.path">
<span id="mrbles-path-module"></span><h2>mrbles.path module<a class="headerlink" href="#module-mrbles.path" title="Permalink to this headline">¶</a></h2>
<div class="section" id="mrble-path-classes-and-functions">
<h3>MRBLE-Path Classes and Functions<a class="headerlink" href="#mrble-path-classes-and-functions" title="Permalink to this headline">¶</a></h3>
<p>This file stores the MRBLE-Path classes and functions for the MRBLEs Analysis
module.</p>
<dl class="class">
<dt id="mrbles.path.PathUnmix">
<em class="property">class </em><code class="descclassname">mrbles.path.</code><code class="descname">PathUnmix</code><span class="sig-paren">(</span><em>references</em>, <em>blast=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/path.html#PathUnmix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.path.PathUnmix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mrbles.data.html#mrbles.data.TableDataFrame" title="mrbles.data.TableDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">mrbles.data.TableDataFrame</span></code></a></p>
<p>MRBLE-Path unmixing algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>references</strong> (<em>Pandas DataFrame</em>) – Dataframe with reference spectra.</li>
<li><strong>blast</strong> (<em>bool</em>) – Setting to convert blast E-scores.
Defaults to True.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="staticmethod">
<dt id="mrbles.path.PathUnmix.blast_convert">
<em class="property">static </em><code class="descname">blast_convert</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/path.html#PathUnmix.blast_convert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.path.PathUnmix.blast_convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert and invert BLAST E-values to 0-1 reference spectra.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.path.PathUnmix.generate_test_refs">
<em class="property">static </em><code class="descname">generate_test_refs</code><span class="sig-paren">(</span><em>channels</em>, <em>spike_channel=None</em>, <em>signal_max=65536</em>, <em>scale=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/path.html#PathUnmix.generate_test_refs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.path.PathUnmix.generate_test_refs" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate test reference spectra.</p>
<dl class="docutils">
<dt>spike_channel <span class="classifier-delimiter">:</span> <span class="classifier">list</span></dt>
<dd>List of channel numbers to spike.</dd>
<dt>signal_max <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>Maximum value.
Defaults to 2**16: 65536.</dd>
<dt>scale <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd>Scale to 1.
Defaults to True.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mrbles.path.PathUnmix.unmix">
<code class="descname">unmix</code><span class="sig-paren">(</span><em>data</em>, <em>signal</em>, <em>z_score=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/path.html#PathUnmix.unmix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.path.PathUnmix.unmix" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmix data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>Pandas DataFrame</em>) – Data that contains the various sets.</li>
<li><strong>signal</strong> (<em>str</em>) – Column with signal data.</li>
<li><strong>z_score</strong> (<em>bool or list</em>) – Convert to Z-score if set to True, or uses mean and SD values of
provided list position 0 is mean, position 1 is SD.
Defaults to True.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-mrbles.pipeline">
<span id="mrbles-pipeline-module"></span><h2>mrbles.pipeline module<a class="headerlink" href="#module-mrbles.pipeline" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pipeline-classes-and-functions">
<h3>Pipeline Classes and functions<a class="headerlink" href="#pipeline-classes-and-functions" title="Permalink to this headline">¶</a></h3>
<p>This files contains the pipeline for the MRBLEs analysis.</p>
<div class="figure align-center">
<img alt="../_images/pipeline-diagram1.png" src="../_images/pipeline-diagram1.png" />
</div>
<dl class="class">
<dt id="mrbles.pipeline.Analyze">
<em class="property">class </em><code class="descclassname">mrbles.pipeline.</code><code class="descname">Analyze</code><span class="sig-paren">(</span><em>dataframe</em>, <em>seq_list=None</em>, <em>images=None</em>, <em>masks=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Analyze"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Analyze" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mrbles.data.html#mrbles.data.TableDataFrame" title="mrbles.data.TableDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">mrbles.data.TableDataFrame</span></code></a></p>
<p>Analyze data MRBLE data and return per-code statistics.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>seq_list</strong> (<em>list, Pandas DataFrame</em>) – List (one column) or Pandas DataFrame with additional per-code
information. In the case of a Pandas DataFrame all provided columns
will be added, based on the row number, which corresponds to its code.</li>
<li><strong>flag_filt</strong> (<em>boolean</em>) – Sets if the flagged data is automatically filtered out.
Defaults to True.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><p class="first last"><strong>functions</strong> (<em>dict</em>) – <p>Dictionary of functions and their corresponding names.
Default: {‘mean’: np.mean,</p>
<blockquote>
<div><p>’median’: np.median,
‘sd’: np.std,
‘se’: sp.stats.sem,
‘N’: len,
‘CV’: sp.stats.variation}</p>
</div></blockquote>
</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mrbles.pipeline.Analyze.analyze">
<code class="descname">analyze</code><span class="sig-paren">(</span><em>assay_channel</em>, <em>min_prob=None</em>, <em>bkg_data=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Analyze.analyze"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Analyze.analyze" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate per-code statisics.</p>
<dl class="docutils">
<dt>assay_channel <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Assay channel name (column name) to calculate per-code statistics
for.</dd>
<dt>min_prob: float</dt>
<dd>Filter by minimum probability interval, e.g. 0.95.
Defaults to None.</dd>
<dt>bkg_data <span class="classifier-delimiter">:</span> <span class="classifier">float/int, string, list, NumPy array, Pandas DataFrame</span></dt>
<dd>If float/value is used, this value be subtracted. If string is
used, column from internal dataframe is used. Otherwise, the data
provided is subtracted, which needs to be the same size as the
per-bead data. In the case of Pandas DataFrame, do slice the single
exact column. Row number of the data is the code.
Defaults to None.</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.pipeline.Analyze.data_per_bead">
<code class="descname">data_per_bead</code><a class="headerlink" href="#mrbles.pipeline.Analyze.data_per_bead" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (normalized) data per bead.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.pipeline.Analyze.data_per_code">
<code class="descname">data_per_code</code><a class="headerlink" href="#mrbles.pipeline.Analyze.data_per_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (normalized) data per code.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.pipeline.Analyze.mrble_report">
<code class="descname">mrble_report</code><span class="sig-paren">(</span><em>assay_channel</em>, <em>filename</em>, <em>set_name=None</em>, <em>codes=None</em>, <em>files=None</em>, <em>sort=True</em>, <em>image_names=None</em>, <em>mask_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Analyze.mrble_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Analyze.mrble_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate per-MRBLE PDF image report.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>assay_channel</strong> (<em>str</em>) – Assay channel name, e.g. ‘Cy5_FF’</li>
<li><strong>filename</strong> (<em>str</em>) – Filename for generated PDF file.</li>
<li><strong>set_name</strong> (<em>str</em>) – Name of set, e.g. ‘Set A’</li>
<li><strong>codes</strong> (<em>int, list of int</em>) – Integer or list of integers with selected codes.
Defaults to None.</li>
<li><strong>files</strong> (<em>int, list of int</em>) – Integer or list of integers with selected files.
Defaults to None.</li>
<li><strong>sort</strong> (<em>boolean</em>) – Sort by code.
Defaults to True.</li>
<li><strong>image_names</strong> (<em>list of str</em>) – List of image names.
Defaults to [‘Dy’, ‘Sm’, ‘Tm’, ‘bkg’, ‘Eu’, assay_channel].</li>
<li><strong>mask_names</strong> (<em>list of str</em>) – List of mask names.
Defaults to [‘mask_ring’, ‘mask_inside’, ‘mask_full’, ‘mask_bkg’].</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.pipeline.Analyze.norm_data">
<code class="descname">norm_data</code><a class="headerlink" href="#mrbles.pipeline.Analyze.norm_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return normalized data.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.pipeline.Analyze.normalize">
<code class="descname">normalize</code><span class="sig-paren">(</span><em>norm_data</em>, <em>scaled=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Analyze.normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Analyze.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>norm_data</strong> (<em>Pandas DataFrame</em>) – Dataframe with the per-bead normalization data. Single set only!</li>
<li><strong>scaled</strong> (<em>boolean</em>) – Scale maximum value normalization data to 1.
Defaults to True.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mrbles.pipeline.Analyze.qc_report">
<code class="descname">qc_report</code><span class="sig-paren">(</span><em>filename</em>, <em>savefig=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Analyze.qc_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Analyze.qc_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate Quality Control PDF report.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>str</em>) – Filename to save QC PDF report to.</li>
<li><strong>savefig</strong> (<em>boolean</em>) – Save figures separately to ‘report’ folder.
Defaults to False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.pipeline.Decode">
<em class="property">class </em><code class="descclassname">mrbles.pipeline.</code><code class="descname">Decode</code><span class="sig-paren">(</span><em>target</em>, <em>seq_list=None</em>, <em>decode_channels=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mrbles.data.html#mrbles.data.TableDataFrame" title="mrbles.data.TableDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">mrbles.data.TableDataFrame</span></code></a></p>
<p>Decode MRBLEs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target</strong> (<em>list</em>) – List of target ratios</li>
<li><strong>seq_list</strong> (<em>Pandas DataFrame</em>) – Columns with sequence information.
Defaults to None.</li>
<li><strong>decode_channels</strong> (<em>list</em>) – Channel names.
Defaults to None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mrbles.pipeline.Decode.decode">
<code class="descname">decode</code><span class="sig-paren">(</span><em>data</em>, <em>combine_data=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Decode.decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Decode.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode MRBLEs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>Pandas DataFrame</em>) – Data that contains decoding data.</li>
<li><strong>combine_data</strong> (<em>Pandas DataFrame</em>) – Data to be combined from previous pipeline steps.
Defaults to None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mrbles.pipeline.Decode.plot_clusters_2D">
<code class="descname">plot_clusters_2D</code><span class="sig-paren">(</span><em>colors</em>, <em>ci_trace=None</em>, <em>min_prob=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Decode.plot_clusters_2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Decode.plot_clusters_2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot ratio clusters in 2D.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>colors</strong> (<em>list</em>) – List of color (NPL) names.</li>
<li><strong>ci_trace</strong> (<em>float</em>) – Set trace confidence line around clusters.
Defaults to None.</li>
<li><strong>min_prob</strong> (<em>float</em>) – Set minimal probability level from 0 to 1, e.g. 0.95.
Defaults to None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mrbles.pipeline.Decode.plot_clusters_3D">
<code class="descname">plot_clusters_3D</code><span class="sig-paren">(</span><em>min_prob=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Decode.plot_clusters_3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Decode.plot_clusters_3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot ratio clusters in 3D.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>min_prob</strong> (<em>float</em>) – Set minimal probability level from 0 to 1, e.g. 0.95.
Defaults to None.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.pipeline.Extract">
<em class="property">class </em><code class="descclassname">mrbles.pipeline.</code><code class="descname">Extract</code><span class="sig-paren">(</span><em>function=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Extract"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mrbles.data.html#mrbles.data.TableDataFrame" title="mrbles.data.TableDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">mrbles.data.TableDataFrame</span></code></a></p>
<p>Extract data from images using masks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>function</strong> (<em>function</em>) – This is the function used to extract data from each bead region. This
can be replaced with any 1 parameter function, e.g. np.mean.
Defaults to np.median.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mrbles.pipeline.Extract.background_subtract">
<code class="descname">background_subtract</code><span class="sig-paren">(</span><em>assay_channel</em>, <em>bkg_data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Extract.background_subtract"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Extract.background_subtract" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mrbles.pipeline.Extract.filter">
<code class="descname">filter</code><span class="sig-paren">(</span><em>bkg_factor=2.0</em>, <em>ref_factor=2.0</em>, <em>bkg='bkg.mask_full'</em>, <em>ref='Eu.mask_inside'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Extract.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Extract.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter and flag based on unmixed background and reference signal.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bkg_factor</strong> (<em>float</em>) – Filter factor of Standard Deviations away from mean background
signal.
Defaults to 2.0</li>
<li><strong>ref_factor</strong> (<em>float</em>) – Filter factor of Standard Deviations within mean of reference
signal.
Defaults to 2.0</li>
<li><strong>bkg</strong> (<em>string</em>) – Background signal column name.
Defaults to ‘bkg.mask_full’</li>
<li><strong>ref</strong> (<em>string</em>) – Reference signal column name.
Defaults to ‘Eu.mask_inside’</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mrbles.pipeline.Extract.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>images</em>, <em>masks</em>, <em>combine_data=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Extract.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Extract.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract data from images using masks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>images</strong> (<em>Xarray DataArray, mrbles ImageDataFrame</em>) – Images of which to take values from using provided labeled masks.
Must be same number of dimensions as masks.</li>
<li><strong>masks</strong> (<em>Xarray DataArray, mrbles ImageDataFrame</em>) – Labeled mask of regions to take values from the provided images.
Must be same number of dimensions as images, even if one dimension
is only singular. Therefore, use [] around mask selection, even
when only using a single channel: [‘inside’].</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">per_mrble_data</span> <span class="o">=</span> <span class="n">mrbles</span><span class="o">.</span><span class="n">Extract</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">per_mrble_data</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">images</span><span class="p">[</span><span class="s1">&#39;100  nM&#39;</span><span class="p">,</span> <span class="p">:,</span> <span class="p">[</span><span class="s1">&#39;Cy5&#39;</span><span class="p">,</span> <span class="s1">&#39;Cy3&#39;</span><span class="p">]],</span>
<span class="go">                       masks[&#39;100 nM&#39;, :, [&#39;ring&#39;]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">per_mrble_data</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.pipeline.Find">
<em class="property">class </em><code class="descclassname">mrbles.pipeline.</code><code class="descname">Find</code><span class="sig-paren">(</span><em>bead_size</em>, <em>pixel_size=None</em>, <em>border_clear=True</em>, <em>circle_size=None</em>, <em>min_r=None</em>, <em>max_r=None</em>, <em>annulus_width=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Find" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mrbles.data.html#mrbles.data.ImageDataFrame" title="mrbles.data.ImageDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">mrbles.data.ImageDataFrame</span></code></a></p>
<p>Find MRBLEs in brightfield images.</p>
<p>This class provides the method to find MRBLEs and segment regions for each
MRBLE in brightfield images, provided by mrbles.Images.</p>
<p>Mask output: mask_full, mask_ring, mask_inside, mask_outside, mask_bkg, mask_check.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">find_mrbles</span> <span class="o">=</span> <span class="n">mrbles</span><span class="o">.</span><span class="n">Find</span><span class="p">(</span><span class="n">bead_size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">pixel_size</span><span class="o">=</span><span class="mf">3.5</span><span class="p">,</span> <span class="n">border_clear</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">circle_size</span><span class="o">=</span><span class="mi">350</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">find_mrbles</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">parallelize</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">find_mrbles</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">assay_images</span><span class="p">[:,</span> <span class="p">:</span> <span class="p">,</span> <span class="s1">&#39;Brightfield&#39;</span><span class="p">])</span>
<span class="go">    Bead diameter AVG: 54.36</span>
<span class="go">    Bead diameter SD: 2.00</span>
<span class="go">    Bead diameter CV: 3.68%</span>
<span class="go">    Total number of beads: 2386</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">find_mrbles</span>
<span class="go">    {&#39;Set 1&#39;: &lt;xarray.DataArray (f: 12, c: 6, y: 1024, x: 1024)&gt;</span>
<span class="go">        array([[[[0, ..., 0],</span>
<span class="go">                  ...,</span>
<span class="go">                 [0, ..., 0]]]], dtype=uint16)</span>
<span class="go">        Coordinates:</span>
<span class="go">        * c        (c) &lt;U12 &#39;mask_full&#39; &#39;mask_ring&#39; &#39;mask_inside&#39; &#39;mask_outside&#39; ...</span>
<span class="go">        Dimensions without coordinates: f, y, x,</span>
<span class="go">    &#39;Set 2&#39;: ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">find_mrbles</span><span class="p">[</span><span class="s1">&#39;Set 2&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;mask_ring&#39;</span><span class="p">]</span>
<span class="go">    &lt;xarray.DataArray (y: 860, x: 860)&gt;</span>
<span class="go">    array([[0, 0, 0, ..., 0, 0, 0],</span>
<span class="go">            ...,</span>
<span class="go">           [0, 0, 0, ..., 0, 0, 0]], dtype=uint16)</span>
<span class="go">    Coordinates:</span>
<span class="go">        c        &lt;U12 &#39;mask_ring&#39;</span>
<span class="go">    Dimensions without coordinates: y, x</span>
</pre></div>
</div>
<p>Super-Class wrapper for mrbles.core.FindBeadsImaging.
Please see this class documentation for more information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bead_size</strong> (<em>int</em>) – Approximate width of beads (circles) in pixels.</li>
<li><strong>pixel_size</strong> (<em>float</em>) – Optional setting for image pixel size. Outputs dimensions using
provided conversion value. Adds additional converted to database with
affic ‘_conv’.
Defaults to None.</li>
<li><strong>border_clear</strong> (<em>boolean</em>) – Beads touching border or ROI will be removed.
Defaults to True.</li>
<li><strong>circle_size</strong> (<em>int</em>) – Set circle size for auto find circular ROI.</li>
<li><strong>min_r</strong> (<em>int</em>) – Minimum size of beads. This is set only when using Circle Finding
method.</li>
<li><strong>max_r</strong> (<em>int</em>) – Maximum size of beads. This is set only when using Circle Finding
method.</li>
<li><strong>annulus_width</strong> (<em>int</em>) – Annulus width size. This is set only when using Circle Finding method.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="mrbles.core.html#mrbles.core.FindBeadsImaging.bead_dims" title="mrbles.core.FindBeadsImaging.bead_dims"><strong>bead_dims</strong></a> (<em>Pandas DataFrame</em>) – Dataframe with individual MRBLE dimensions.</li>
<li><a class="reference internal" href="mrbles.pipeline.html#mrbles.pipeline.Find.beads_total" title="mrbles.pipeline.Find.beads_total"><strong>beads_total</strong></a> (<em>int</em>) – Total number of MRBLEs found.</li>
<li><a class="reference internal" href="mrbles.pipeline.html#mrbles.pipeline.Find.beads_per_set" title="mrbles.pipeline.Find.beads_per_set"><strong>beads_per_set</strong></a> (<em>list of int</em>) – Number of MRBLEs per set.</li>
<li><a class="reference internal" href="mrbles.pipeline.html#mrbles.pipeline.Find.settings" title="mrbles.pipeline.Find.settings"><strong>settings</strong></a> (<em>property</em>) – Property provinding access to settings of mrbles.core.FindBeadsImaging.
See property documentation for more information.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="mrbles.pipeline.Find.bead_dims">
<code class="descname">bead_dims</code><a class="headerlink" href="#mrbles.pipeline.Find.bead_dims" title="Permalink to this definition">¶</a></dt>
<dd><p>Return MRBLEs dimensions.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.pipeline.Find.beads_per_set">
<code class="descname">beads_per_set</code><a class="headerlink" href="#mrbles.pipeline.Find.beads_per_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Return total bead count in set(s).</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.pipeline.Find.beads_total">
<code class="descname">beads_total</code><a class="headerlink" href="#mrbles.pipeline.Find.beads_total" title="Permalink to this definition">¶</a></dt>
<dd><p>Return total bead count in set(s).</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.pipeline.Find.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>object_images</em>, <em>combine_data=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Find.find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Find.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute finding images.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.pipeline.Find.inspect">
<code class="descname">inspect</code><span class="sig-paren">(</span><em>set_name=None</em>, <em>fig_num=3</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Find.inspect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Find.inspect" title="Permalink to this definition">¶</a></dt>
<dd><p>Display random images from set for inspection.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.pipeline.Find.plot_size_dist">
<code class="descname">plot_size_dist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Find.plot_size_dist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Find.plot_size_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot size distribution.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.pipeline.Find.sets">
<code class="descname">sets</code><a class="headerlink" href="#mrbles.pipeline.Find.sets" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of sets.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.pipeline.Find.settings">
<code class="descname">settings</code><a class="headerlink" href="#mrbles.pipeline.Find.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return FindBeadsImaging object for settings purposes.</p>
<p>See FindBeadsImaging documentation for detailed settings.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">find_object</span> <span class="o">=</span> <span class="n">Find</span><span class="p">(</span><span class="n">bead_size</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">find_object</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">area_min</span> <span class="o">=</span> <span class="mi">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">find_object</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">area_max</span> <span class="o">=</span> <span class="mi">350</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">find_object</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">eccen_max</span> <span class="o">=</span> <span class="mf">0.65</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">find_object</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">circle_size</span> <span class="o">=</span> <span class="mi">350</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.pipeline.Images">
<em class="property">class </em><code class="descclassname">mrbles.pipeline.</code><code class="descname">Images</code><span class="sig-paren">(</span><em>folders=None</em>, <em>file_patterns=None</em>, <em>data=None</em>, <em>channels=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Images" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mrbles.data.html#mrbles.data.ImageDataFrame" title="mrbles.data.ImageDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">mrbles.data.ImageDataFrame</span></code></a></p>
<p>Load images into mrbles dataframe.</p>
<p>There are two methods to load images into the mrbles dataframe:
Method 1 - Provide dictionaries with folder and filename patterns.
Method 2 - Provide a dictionary with numpy arrays.</p>
<p>This class facilitates loading images into the mrbles.data.ImageDataFrame.
Please see this class documentation for more information.</p>
<p>For loading OME-TIFF image it uses mrbles.data.ImageSetRead.
Please see this class documentation for more information.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">assay_folder</span> <span class="o">=</span> <span class="s1">&#39;../data&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">assay_folders</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Set 1&#39;</span><span class="p">:</span> <span class="s1">&#39;../data1&#39;</span><span class="p">,</span>
<span class="go">                     &#39;Set 2&#39;: &#39;../data2&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">assay_files</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Set 1&#39;</span><span class="p">:</span> <span class="s1">&#39;image_set1_(0-9)(0-9).ome.tif&#39;</span><span class="p">,</span>
<span class="go">                   &#39;Set 2&#39;: &#39;image_set2_(0-9)(0-9).ome.tif&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">assay_images</span> <span class="o">=</span> <span class="n">mrbles</span><span class="o">.</span><span class="n">Images</span><span class="p">(</span><span class="n">assay_folder</span><span class="p">,</span> <span class="n">assay_files</span><span class="p">)</span>
<span class="go">    Found 12 files in Set 1</span>
<span class="go">    Found 11 files in Set 2</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">image_arrays</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Set 1&#39;</span><span class="p">:</span> <span class="n">numpy_array_1</span><span class="p">,</span>
<span class="go">                    &#39;Set 2&#39;: numpy_array_2}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">channel_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Brightfield&#39;</span><span class="p">,</span> <span class="s1">&#39;Cy5&#39;</span><span class="p">,</span> <span class="s1">&#39;l-435&#39;</span><span class="p">,</span> <span class="s1">&#39;l-546&#39;</span><span class="p">,</span> <span class="s1">&#39;l-620&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">assay_images</span> <span class="o">=</span> <span class="n">mrbles</span><span class="o">.</span><span class="n">Images</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">image_arrays</span><span class="p">,</span> <span class="n">channels</span><span class="o">=</span><span class="n">channel_names</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">assay_images</span>
<span class="go">    {&#39;Set 1&#39;: &lt;xarray.DataArray (f: 12, c: 5, y: 1024, x: 1024)&gt;</span>
<span class="go">        array([[[[169., ..., 166.],</span>
<span class="go">                ...,</span>
<span class="go">                [101., ..., 121.]]]])</span>
<span class="go">        Coordinates:</span>
<span class="go">        * c        (c) object &#39;Brightfield&#39;, &#39;Cy5&#39;, &#39;l-435&#39;, &#39;l-546&#39;, ...</span>
<span class="go">        Dimensions without coordinates: f, y, x,</span>
<span class="go">    &#39;Set 2&#39;: ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">assay_images</span><span class="p">[</span><span class="s1">&#39;Set 2&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;Brightfield&#39;</span><span class="p">]</span>
<span class="go">    &lt;xarray.DataArray (y: 1024, x: 1024)&gt;</span>
<span class="go">    array([[188., 163., 182., ..., 188., 174., 170.],</span>
<span class="go">            ...,</span>
<span class="go">           [144., 141., 142., ..., 162., 162., 154.]])</span>
<span class="go">    Coordinates:</span>
<span class="go">        c        &lt;U11 &#39;Brightfield&#39;</span>
<span class="go">    Dimensions without coordinates: y, x</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>folders</strong> (<em>str, dict</em>) – String of single folder or dict of multiple folders.
The folder(s) provided will searched recursively.
Dict keys must match file_patterns dict.</li>
<li><strong>file_patterns</strong> (<em>dict</em>) – Dict of multiple file patterns.
Dict keys must match folders keys, if multiple folders.</li>
<li><strong>data</strong> (<em>NumPy array</em>) – Alternative method to loading OME-Tif files.
Load a dict of NumPy arrays with dimension order (f, c, y, x):
files (f), channels (c), Y-dimension (y), X-dimension (x)</li>
<li><strong>channels</strong> (<em>list of str</em>) – List of channel names.
Defaults to None. Channels will be numbers.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="mrbles.data.html#mrbles.data.ImageDataFrame.crop_x" title="mrbles.data.ImageDataFrame.crop_x"><strong>crop_x</strong></a> (<em>slice</em>) – Used for setting ROI slice in the X dimension.</li>
<li><a class="reference internal" href="mrbles.data.html#mrbles.data.ImageDataFrame.crop_y" title="mrbles.data.ImageDataFrame.crop_y"><strong>crop_y</strong></a> (<em>slice</em>) – Used for setting ROI slice in the Y dimension.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mrbles.pipeline.Images.add_images">
<code class="descname">add_images</code><span class="sig-paren">(</span><em>images</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Images.add_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Images.add_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Add images to dataframe.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.pipeline.Images.flat_field">
<code class="descname">flat_field</code><span class="sig-paren">(</span><em>ff_image</em>, <em>channel</em>, <em>affix='_FF'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Images.flat_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Images.flat_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Flat-Field correction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ff_image</strong> (<em>str, NumPy array</em>) – Flat-field image file or NumPy array.</li>
<li><strong>channel</strong> (<em>str</em>) – Channel to apply flat-field correction.</li>
<li><strong>affix</strong> (<em>str</em>) – Affix for channel name to be appended.
Defaults to ‘_FF’</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mrbles.pipeline.Images.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>series=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Images.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Images.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load images in memory.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.pipeline.Images.rename_channel">
<code class="descname">rename_channel</code><span class="sig-paren">(</span><em>old_name</em>, <em>new_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Images.rename_channel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Images.rename_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename channel name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>old_name</strong> (<em>str</em>) – Original name of channel.</li>
<li><strong>new_name</strong> (<em>str</em>) – New name for old_name channel.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.pipeline.Images.scan_path">
<em class="property">static </em><code class="descname">scan_path</code><span class="sig-paren">(</span><em>path</em>, <em>pattern='*.tif'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Images.scan_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Images.scan_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan folder recursively for files matching the pattern.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<em>string</em>) – Folder path as string, e.g. r’C:/folder/file.tif’.</li>
<li><strong>pattern</strong> (<em>string</em>) – File extenstion of general file pattern as search string,
e.g. ‘peptides_x_([0-9][0-9])_MMStack_Pos0.ome.tif’
Defaults to ‘<a href="#id1"><span class="problematic" id="id2">*</span></a>.tif’.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.pipeline.Ratio">
<em class="property">class </em><code class="descclassname">mrbles.pipeline.</code><code class="descname">Ratio</code><span class="sig-paren">(</span><em>reference_spectra</em>, <em>background='bkg'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Ratio"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mrbles.data.html#mrbles.data.ImageDataFrame" title="mrbles.data.ImageDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">mrbles.data.ImageDataFrame</span></code></a></p>
<p>Generate spectrally unmix ratio images.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>reference_spectra</strong> (<em>list, ndarray, References object</em>) – List, array, or References object of reference spectra for linear
spectral unmixing.</li>
<li><strong>background</strong> (<em>string</em>) – Background key label.
Defaults to ‘bkg’.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mrbles.pipeline.Ratio.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>image_sets</em>, <em>reference</em>, <em>combine_data=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Ratio.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Ratio.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate unmixed and ratio images.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>image_set</strong> (<em>Xarray DataArray, mblres ImageDataFrame</em>) – These are the images (emission channels) to be unmixed.</li>
<li><strong>reference</strong> (<em>string</em>) – Reference key label, e.g. ‘Eu’, used for ratio images.</li>
<li><strong>comb_data</strong> (<em>Xarray DataArray, mblres ImageDataFrame</em>) – These are the images that are combined with ‘image_set’.
Must be same dimensions and type as ‘image_set’.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.pipeline.References">
<em class="property">class </em><code class="descclassname">mrbles.pipeline.</code><code class="descname">References</code><span class="sig-paren">(</span><em>folders</em>, <em>files</em>, <em>object_channel</em>, <em>reference_channels</em>, <em>bead_size=16</em>, <em>dark_noise=99</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#References"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.References" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mrbles.data.html#mrbles.data.TableDataFrame" title="mrbles.data.TableDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">mrbles.data.TableDataFrame</span></code></a></p>
<p>Create reference spectra.</p>
<p>There are three methods to load images into the this class:
Method 1 - Provide a dictionaries with folders and filenames.
Method 2 - Provide a dictionary with numpy arrays.
Method 3 - Provide a file with spectra data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>folders</strong> (<em>dict</em>) – Dictionary with keywords (e.g. ‘Dy’, ‘bkg’) and folders.
Must correspond with files parameter.</li>
<li><strong>files</strong> (<em>dict</em>) – Dictionary with keywords (e.g. ‘Dy’, ‘bkg’) and filenames.
Must correspond with folders parameter.</li>
<li><strong>object_channel</strong> (<em>str</em>) – Channel to be used for finding MRBLEs</li>
<li><strong>reference_channels</strong> (<em>list</em>) – List of channel names to be used for generating reference spectra.</li>
<li><strong>bead_size</strong> (<em>int</em>) – Bead diamater set in pixels.
Defaults to 16.</li>
<li><strong>dark_noise</strong> (<em>int</em>) – Dark noise of the camera used for the images.
Defaults to 99 (median dark noise of Andor Zyla 4.2 PLUS sCMOS).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>background</strong> (<em>str</em>) – Name of the background spectrum.
Defaults to ‘bkg’.</li>
<li><a class="reference internal" href="mrbles.data.html#mrbles.data.ImageDataFrame.crop_x" title="mrbles.data.ImageDataFrame.crop_x"><strong>crop_x</strong></a> (<em>slice</em>) – Crop X slice. Set with slice().</li>
<li><a class="reference internal" href="mrbles.data.html#mrbles.data.ImageDataFrame.crop_y" title="mrbles.data.ImageDataFrame.crop_y"><strong>crop_y</strong></a> (<em>slice</em>) – Crop Y slice. Set with slice().</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="staticmethod">
<dt id="mrbles.pipeline.References.get_spectrum">
<em class="property">static </em><code class="descname">get_spectrum</code><span class="sig-paren">(</span><em>dark_noise</em>, <em>channels</em>, <em>mask</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#References.get_spectrum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.References.get_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Get spectrum from image set using mask.</p>
<p>The median of the masked area is extracted, the camera dark noise
subtracted, and normalized.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dark_noise</strong> (<em>int</em>) – Intrinsic dark noise of camera. Image taken when shutter closed.</li>
<li><strong>channels</strong> (<em>slice, list</em>) – Slice of channels</li>
<li><strong>mask</strong> (<em>NumPy array</em>) – Labeled mask.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mrbles.pipeline.References.load">
<code class="descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#References.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.References.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Process all images and generate reference spectra.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.pipeline.References.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>dpi=75</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#References.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.References.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot Reference spectra.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.pipeline.Settings">
<em class="property">class </em><code class="descclassname">mrbles.pipeline.</code><code class="descname">Settings</code><span class="sig-paren">(</span><em>objects</em>, <em>object_names</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/pipeline.html#Settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.pipeline.Settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Settings object.</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-mrbles.report">
<span id="mrbles-report-module"></span><h2>mrbles.report module<a class="headerlink" href="#module-mrbles.report" title="Permalink to this headline">¶</a></h2>
<div class="section" id="quality-control-report-classes-and-functions">
<h3>Quality Control Report Classes and Functions<a class="headerlink" href="#quality-control-report-classes-and-functions" title="Permalink to this headline">¶</a></h3>
<p>This file stores the quality control report classes and functions for the MRBLEs Analysis
module.</p>
<dl class="class">
<dt id="mrbles.report.BeadsReport">
<em class="property">class </em><code class="descclassname">mrbles.report.</code><code class="descname">BeadsReport</code><span class="sig-paren">(</span><em>data</em>, <em>images</em>, <em>masks</em>, <em>assay_channel</em>, <em>codes=None</em>, <em>files=None</em>, <em>sort=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#BeadsReport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.BeadsReport" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Per-MRBLE images report.</p>
<p>This method generates the selected images per-MRBLE.</p>
<p>This method can take a lot of time, since it will generate images
per-MRBLE. It takes about 5 minutes per 1,000 beads, for 12 images
each, which makes a total of 11,000 images.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>Pandas DataFrame</em>) – Contains all the dimension, posotional, and intensity data per-MBRLE.</li>
<li><strong>images</strong> (<em>mrbles.ImageDataFrame, Xarray DataArray</em>) – Contains images.</li>
<li><strong>masks</strong> (<em>Xarray DataArray</em>) – Contains masks.</li>
<li><strong>assay_channel</strong> (<em>str</em>) – Assay channel name, e.g. ‘Cy5_FF’</li>
<li><strong>codes</strong> (<em>int, list of int</em>) – Integer or list of integers with selected codes.
Defaults to None.</li>
<li><strong>files</strong> (<em>int, list of int</em>) – Integer or list of integers with selected files.
Defaults to None.</li>
<li><strong>sort</strong> (<em>boolean</em>) – Sort by code.
Defaults to True.</li>
<li><strong>Methods</strong></li>
<li><strong>——–</strong></li>
<li><strong>generate()</strong> (<em>method</em>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>time_sec</strong> (<em>float</em>) – Time required per-image generated in seconds.
For instance, 300 beads times 12 images is 3600 images.
Defaults to 0.0275</li>
<li><strong>parallelize</strong> (<em>boolean</em>) – Wether to use parallelization. Can be slowing down on low-power
computers.
Defaults to True.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mrbles.report.BeadsReport.generate">
<code class="descname">generate</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#BeadsReport.generate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.BeadsReport.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Per-MRBLE images report.</p>
<p>This method generates the selected images per-MRBLE.</p>
<p>This method can take a lot of time, since it will generate images
per-MRBLE. It takes about 5 minutes per 1,000 beads, for 12 images
each, which makes a total of 12,000 images.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.report.ClusterCheck">
<em class="property">class </em><code class="descclassname">mrbles.report.</code><code class="descname">ClusterCheck</code><span class="sig-paren">(</span><em>decode_object</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#ClusterCheck"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.ClusterCheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mrbles.data.html#mrbles.data.TableDataFrame" title="mrbles.data.TableDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">mrbles.data.TableDataFrame</span></code></a></p>
<p>Cluster check reporting.</p>
<dl class="method">
<dt id="mrbles.report.ClusterCheck.plot_2D">
<code class="descname">plot_2D</code><span class="sig-paren">(</span><em>colors</em>, <em>ci_trace=None</em>, <em>min_prob=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#ClusterCheck.plot_2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.ClusterCheck.plot_2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot 2D clusters.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.report.ClusterCheck.plot_3D">
<code class="descname">plot_3D</code><span class="sig-paren">(</span><em>min_prob=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#ClusterCheck.plot_3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.ClusterCheck.plot_3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot ratio clusters in 3D.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>min_prob</strong> (<em>float</em>) – Set minimal probability level.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.report.ClusterCheck.scatter">
<em class="property">static </em><code class="descname">scatter</code><span class="sig-paren">(</span><em>data</em>, <em>target</em>, <em>codes=None</em>, <em>title=None</em>, <em>axes_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#ClusterCheck.scatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.ClusterCheck.scatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot clusters in scatter plot 2D or 3D.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.report.GenerateCodes">
<em class="property">class </em><code class="descclassname">mrbles.report.</code><code class="descname">GenerateCodes</code><span class="sig-paren">(</span><em>colors</em>, <em>s0s</em>, <em>slopes</em>, <em>nsigma</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#GenerateCodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.GenerateCodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generate bead code set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>colors</strong> (<em>list of str</em>) – List of coding colors in a list of strings.</li>
<li><strong>s0s</strong> (<em>liat of float</em>) – List of standard deviations (SD) at intensity 0 for each encoding color.</li>
<li><strong>slopes</strong> (<em>float</em>) – List of slopes of the SDs versus intensity for each encoding color.</li>
<li><strong>nsigma</strong> (<em>float</em>) – The number of SD to separate coding levels.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">code_set_gen</span> <span class="o">=</span> <span class="n">GenerateCodes</span><span class="p">([</span><span class="s1">&#39;Dy&#39;</span><span class="p">,</span> <span class="s1">&#39;Sm&#39;</span><span class="p">,</span> <span class="s1">&#39;Tm&#39;</span><span class="p">],</span>
<span class="go">                                 [0.0039, 0.0055, 0.0029],</span>
<span class="go">                                 [0.022, 0.016, 0.049], 6.4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">code_set_gen</span><span class="o">.</span><span class="n">result</span>
<span class="go">           Dy        Sm        Tm</span>
<span class="go">0    0.000000  0.000000  0.000000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">code_set_gen</span> <span class="o">=</span> <span class="n">GenerateCodes</span><span class="p">([</span><span class="s1">&#39;Dy&#39;</span><span class="p">,</span> <span class="s1">&#39;Sm&#39;</span><span class="p">],</span>
<span class="go">                                 [0.0039, 0.0055],</span>
<span class="go">                                 [0.022, 0.016], 8.4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">code_set_gen</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
<span class="go">Number of codes:  24</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">code_set_gen</span><span class="o">.</span><span class="n">result</span>
<span class="go">          Dy        Sm</span>
<span class="go">0   0.000000  0.000000</span>
<span class="go">1   0.000000  0.106747</span>
<span class="go">2   0.000000  0.246642</span>
<span class="go">......................</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">code_set_gen</span><span class="o">.</span><span class="n">iterate</span><span class="p">(</span><span class="mi">28</span><span class="p">)</span>
<span class="go">....................</span>
<span class="go">Number of codes:  26</span>
<span class="go">Number of codes:  26</span>
<span class="go">Number of codes:  28</span>
<span class="go">Final nsigma:  8.09</span>
<span class="go">Iterations  :  31</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="mrbles.report.GenerateCodes.axis">
<code class="descname">axis</code><a class="headerlink" href="#mrbles.report.GenerateCodes.axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of axis (colors).</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.report.GenerateCodes.colors">
<code class="descname">colors</code><a class="headerlink" href="#mrbles.report.GenerateCodes.colors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return color names.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.report.GenerateCodes.generate">
<code class="descname">generate</code><span class="sig-paren">(</span><em>nsigma=None</em>, <em>depends=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#GenerateCodes.generate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.GenerateCodes.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate codes with default nsigma or given nsigma.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nsigma</strong> (<em>float, optional</em>) – The number of SD to separate coding levels.
Defaults to initial nsigma.</li>
<li><strong>depends</strong> (<em>any, experimental, optional</em>) – Used for Tm (3rd in array) dependence on Dy (1st array).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.report.GenerateCodes.get_levels">
<em class="property">static </em><code class="descname">get_levels</code><span class="sig-paren">(</span><em>std0</em>, <em>slope</em>, <em>nsigma</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#GenerateCodes.get_levels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.GenerateCodes.get_levels" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict the number of levels of a coding color.</p>
<p>The coding levels are based on s0, the standard deviation (SD) at
intensity 0, and the slope between intensity and SD.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>std0</strong> (<em>float</em>) – The SD at intensity 0.</li>
<li><strong>slope</strong> (<em>float</em>) – The slope of the SD versus intensity.</li>
<li><strong>nsigma</strong> (<em>float</em>) – The number of SD to separate levels.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>levels</strong> – Returns list of codes values for a given coding color.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mrbles.report.GenerateCodes.iterate">
<code class="descname">iterate</code><span class="sig-paren">(</span><em>num</em>, <em>nsimga_start=None</em>, <em>nsigma_step=0.01</em>, <em>max_iter=1000</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#GenerateCodes.iterate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.GenerateCodes.iterate" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate nsigma until number of codes are found.</p>
<p>Does not work with dependence, such as Tm dependence on Dy.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num</strong> (<em>int</em>) – Number of required codes.</li>
<li><strong>nsigma_start</strong> (<em>float, optional</em>) – Start value of nsigma.
Defaults to initial nsigma.</li>
<li><strong>nsigma_step</strong> (<em>float, optional</em>) – Iterarion step.
Defaults to 0.01</li>
<li><strong>max_iter</strong> (<em>int, optional</em>) – Maximum iteration steps.
Defaults to 1000.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.report.GenerateCodes.levels">
<code class="descname">levels</code><a class="headerlink" href="#mrbles.report.GenerateCodes.levels" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of levels.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mrbles.report.GenerateCodes.recursive_looper">
<em class="property">static </em><code class="descname">recursive_looper</code><span class="sig-paren">(</span><em>iterators</em>, <em>pos=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#GenerateCodes.recursive_looper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.GenerateCodes.recursive_looper" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursive looper.</p>
<p>Implements the same functionality as nested for loops, but is more
dynamic. Iterators can either be a list of methods which return
iterables, a list of iterables, or a combination of both.</p>
</dd></dl>

<dl class="attribute">
<dt id="mrbles.report.GenerateCodes.result">
<code class="descname">result</code><a class="headerlink" href="#mrbles.report.GenerateCodes.result" title="Permalink to this definition">¶</a></dt>
<dd><p>Return resulting ratios.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.report.GenerateCodes.to_csv">
<code class="descname">to_csv</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#GenerateCodes.to_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.GenerateCodes.to_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Export to CSV.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.report.GenerateCodes.to_csv_rep">
<code class="descname">to_csv_rep</code><span class="sig-paren">(</span><em>filename</em>, <em>repeats</em>, <em>labels=None</em>, <em>pos=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#GenerateCodes.to_csv_rep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.GenerateCodes.to_csv_rep" title="Permalink to this definition">¶</a></dt>
<dd><p>Export to CSV, with repeated ratios for bead synthesis.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.report.PeptideScramble">
<em class="property">class </em><code class="descclassname">mrbles.report.</code><code class="descname">PeptideScramble</code><span class="sig-paren">(</span><em>seq</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#PeptideScramble"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.PeptideScramble" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Randomizes amino acid sequence</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>seq</strong> (<em>string</em>) – Inset amino acid sequence as a string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>seq</strong> – Returns string of shuffled amino acid sequence.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mrbles.report.PeptideScramble.random">
<code class="descname">random</code><span class="sig-paren">(</span><em>seq=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#PeptideScramble.random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.PeptideScramble.random" title="Permalink to this definition">¶</a></dt>
<dd><p>Return randomized amino acid sequence.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mrbles.report.QCReport">
<em class="property">class </em><code class="descclassname">mrbles.report.</code><code class="descname">QCReport</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#QCReport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.QCReport" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>MRBLE library Quality Control report.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>Pandas DataFrame</em>) – Per beads data.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mrbles.report.QCReport.assay_contamination">
<code class="descname">assay_contamination</code><span class="sig-paren">(</span><em>pdf_object</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#QCReport.assay_contamination"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.QCReport.assay_contamination" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mrbles.report.QCReport.bead_size">
<code class="descname">bead_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#QCReport.bead_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.QCReport.bead_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Bead size distribution plot.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.report.QCReport.beads_per_code">
<code class="descname">beads_per_code</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#QCReport.beads_per_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.QCReport.beads_per_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Beads per-code distribution plot.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.report.QCReport.code_stability">
<code class="descname">code_stability</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#QCReport.code_stability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.QCReport.code_stability" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mrbles.report.QCReport.generate">
<code class="descname">generate</code><span class="sig-paren">(</span><em>filename</em>, <em>savefig=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#QCReport.generate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.QCReport.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate QC report.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>str</em>) – Filename to save QC PDF report to.</li>
<li><strong>savefig</strong> (<em>boolean</em>) – Save figures separately to ‘report’ folder.
Defaults to False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mrbles.report.QCReport.html_report">
<code class="descname">html_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#QCReport.html_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.QCReport.html_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate HTML report.</p>
</dd></dl>

<dl class="method">
<dt id="mrbles.report.QCReport.npl_covar_plots">
<code class="descname">npl_covar_plots</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#QCReport.npl_covar_plots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.QCReport.npl_covar_plots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mrbles.report.QCReport.npl_plots">
<code class="descname">npl_plots</code><span class="sig-paren">(</span><em>pdf_object</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#QCReport.npl_plots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.QCReport.npl_plots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mrbles.report.circle_overlay">
<code class="descclassname">mrbles.report.</code><code class="descname">circle_overlay</code><span class="sig-paren">(</span><em>image</em>, <em>dims=None</em>, <em>ring=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#circle_overlay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.circle_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Circle Overlay Image.</p>
<p>Overlay image with circles of labeled mask.</p>
</dd></dl>

<dl class="function">
<dt id="mrbles.report.image_overlay">
<code class="descclassname">mrbles.report.</code><code class="descname">image_overlay</code><span class="sig-paren">(</span><em>image</em>, <em>image_blend</em>, <em>alpha=0.2</em>, <em>cmap_image='Greys_r'</em>, <em>cmap_blend='jet'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mrbles/report.html#image_overlay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mrbles.report.image_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlay 2 Images.
Overlay of 2 images using alpha blend.</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-mrbles">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mrbles" title="Permalink to this headline">¶</a></h2>
<div class="section" id="mrbles-analysis-package">
<h3>MRBLEs Analysis Package<a class="headerlink" href="#mrbles-analysis-package" title="Permalink to this headline">¶</a></h3>
<p>This package provides the tools to: (1) find the MRBLEs in a monochrome
bright-field microscopy image; (2) decode the MRBLEs beads by spectral unmxing,
using reference spectra, and then spectrally decode the found beads using
Iterative Closest Point Matching and Gaussian Mixture Modeling; (3) extract,
statistical values of interest in additional fluorescence channels using the
morphology of the MRBLEs, their locations, and respective code; (4) analyze
affinity information based on titrations of MRBLEs assays.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">mrbles package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-mrbles.core">mrbles.core module</a><ul>
<li><a class="reference internal" href="#core-classes-and-functions">Core Classes and Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-mrbles.data">mrbles.data module</a><ul>
<li><a class="reference internal" href="#data-classes-and-functions">Data Classes and Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-mrbles.kinetics">mrbles.kinetics module</a><ul>
<li><a class="reference internal" href="#kinetics-classes-and-functions">Kinetics Classes and Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-mrbles.path">mrbles.path module</a><ul>
<li><a class="reference internal" href="#mrble-path-classes-and-functions">MRBLE-Path Classes and Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-mrbles.pipeline">mrbles.pipeline module</a><ul>
<li><a class="reference internal" href="#pipeline-classes-and-functions">Pipeline Classes and functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-mrbles.report">mrbles.report module</a><ul>
<li><a class="reference internal" href="#quality-control-report-classes-and-functions">Quality Control Report Classes and Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-mrbles">Module contents</a><ul>
<li><a class="reference internal" href="#mrbles-analysis-package">MRBLEs Analysis Package</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/source/mrbles.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">mrbles 0.13.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Bjorn Harink.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.2.
    </div>
  </body>
</html>